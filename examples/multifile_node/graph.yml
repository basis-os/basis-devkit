name: multifile_node
parameter_ports:
  - name: stripe_api_key
    type: secret
    default: My default text
# graph specific
graph:
  node_configurations:
    - node: basic_python_node/node.yml
      name: mynode
      labels:
        - sales
    - node: basic_python_node/node.yml
      labels:
        - sales
    - name: stripe_importer
      node: https://getbasis.com/marketplace/stripe-importer-23djs8
      node_parameters:
        api_key: ${{ parameters.stripe_api_key }}
      output_names:
        charges: mycharges
      schedule: "daily"
    - node: basic_sql_node/node.yml
    - node: subgraph1/graph.yml
      name: subgraph1
  connections:
    - stripe_importer[charges] => basic_sql[customers]
    - stripe_importer[charges] => basic_sql[customers]
---
input_ports:
  - name: input1
    type: table
    schema: myschema.Schema
output_ports:
  - name: output1
    type: stream
    schema: myschema.OtherSchema
parameter_ports:
  - name: param1
    type: parameter
    parameter_type: text
    default: My default text
graph:
  node_configurations:
    - node: subnode/node.yml
    - node: subnode2/node.yml
  connections:
    - self[input1] => subnode[myinput]
    - subnode[myoutput] => subnode2[myinput]
    - subnode2[output] => self[output1]
